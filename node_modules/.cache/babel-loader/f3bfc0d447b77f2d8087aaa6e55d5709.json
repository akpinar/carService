{"remainingRequest":"/home/sena/Desktop/front-carService/node_modules/babel-loader/lib/index.js!/home/sena/Desktop/front-carService/src/store/auth.module.js","dependencies":[{"path":"/home/sena/Desktop/front-carService/src/store/auth.module.js","mtime":1616347706732},{"path":"/home/sena/Desktop/front-carService/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/sena/Desktop/front-carService/node_modules/babel-loader/lib/index.js","mtime":315532800000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IEF1dGhTZXJ2aWNlIGZyb20gJy4uL3NlcnZpY2VzL2F1dGguc2VydmljZSc7CmltcG9ydCB7IHVzZSB9IGZyb20gInZlZS12YWxpZGF0ZS9kaXN0L3ZlZS12YWxpZGF0ZS5taW5pbWFsLmVzbSI7CnZhciB1c2VyID0gbnVsbDsKCmlmIChsb2NhbFN0b3JhZ2UgIT0gbnVsbCAmJiBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgndXNlcicpICE9IG51bGwpIHsKICB1c2VyID0gSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgndXNlcicpKTsKfSBlbHNlIHsKICB1c2VyID0gbnVsbDsKfQoKdmFyIGluaXRpYWxTdGF0ZSA9IHVzZXIgPyB7CiAgc3RhdHVzOiB7CiAgICBsb2dnZWRJbjogdHJ1ZQogIH0sCiAgdXNlcjogdXNlcgp9IDogewogIHN0YXR1czogewogICAgbG9nZ2VkSW46IGZhbHNlCiAgfSwKICB1c2VyOiBudWxsCn07CmV4cG9ydCB2YXIgYXV0aCA9IHsKICBuYW1lc3BhY2VkOiB0cnVlLAogIHN0YXRlOiBpbml0aWFsU3RhdGUsCiAgYWN0aW9uczogewogICAgbG9naW46IGZ1bmN0aW9uIGxvZ2luKF9yZWYsIHVzZXIpIHsKICAgICAgdmFyIGNvbW1pdCA9IF9yZWYuY29tbWl0OwogICAgICBjb25zb2xlLmxvZyh1c2VyKTsKICAgICAgcmV0dXJuIEF1dGhTZXJ2aWNlLmxvZ2luKHVzZXIpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgLy9jb21taXQoJ2xvZ2luU3VjY2VzcycsIHVzZXIpOwogICAgICAgIGNvbnNvbGUubG9nKHJlc3BvbnNlLmFjY2Vzc1Rva2VuKTsgLy9sb2NhbFN0b3JhZ2Uuc2V0SXRlbSgidXNlciIsSlNPTi5iZWF1dGlmeSh1c2VyKSk7CgogICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUodXNlcik7CiAgICAgIH0sIGZ1bmN0aW9uIChlcnJvcikgewogICAgICAgIGNvbW1pdCgnbG9naW5GYWlsdXJlJyk7CiAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KGVycm9yKTsKICAgICAgfSk7CiAgICB9LAogICAgbG9nb3V0OiBmdW5jdGlvbiBsb2dvdXQoX3JlZjIpIHsKICAgICAgdmFyIGNvbW1pdCA9IF9yZWYyLmNvbW1pdDsKICAgICAgQXV0aFNlcnZpY2UubG9nb3V0KCk7CiAgICAgIGNvbW1pdCgnbG9nb3V0Jyk7CiAgICAgIGxvY2FsU3RvcmFnZS5jbGVhcigpOwogICAgICByZXR1cm4gdHJ1ZTsKICAgIH0sCiAgICByZWdpc3RlcjogZnVuY3Rpb24gcmVnaXN0ZXIoX3JlZjMsIHVzZXIpIHsKICAgICAgdmFyIGNvbW1pdCA9IF9yZWYzLmNvbW1pdDsKICAgICAgcmV0dXJuIEF1dGhTZXJ2aWNlLnJlZ2lzdGVyKHVzZXIpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgY29tbWl0KCdyZWdpc3RlclN1Y2Nlc3MnKTsKICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHJlc3BvbnNlLmRhdGEpOwogICAgICB9LCBmdW5jdGlvbiAoZXJyb3IpIHsKICAgICAgICBjb21taXQoJ3JlZ2lzdGVyRmFpbHVyZScpOwogICAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChlcnJvcik7CiAgICAgIH0pOwogICAgfQogIH0sCiAgbXV0YXRpb25zOiB7CiAgICBsb2dpblN1Y2Nlc3M6IGZ1bmN0aW9uIGxvZ2luU3VjY2VzcyhzdGF0ZSwgdXNlcikgewogICAgICBzdGF0ZS5zdGF0dXMubG9nZ2VkSW4gPSB0cnVlOwogICAgICBzdGF0ZS51c2VyID0gdXNlcjsKICAgIH0sCiAgICBsb2dpbkZhaWx1cmU6IGZ1bmN0aW9uIGxvZ2luRmFpbHVyZShzdGF0ZSkgewogICAgICBzdGF0ZS5zdGF0dXMubG9nZ2VkSW4gPSBmYWxzZTsKICAgICAgc3RhdGUudXNlciA9IG51bGw7CiAgICB9LAogICAgbG9nb3V0OiBmdW5jdGlvbiBsb2dvdXQoc3RhdGUpIHsKICAgICAgc3RhdGUuc3RhdHVzLmxvZ2dlZEluID0gZmFsc2U7CiAgICAgIHN0YXRlLnVzZXIgPSBudWxsOwogICAgfSwKICAgIHJlZ2lzdGVyU3VjY2VzczogZnVuY3Rpb24gcmVnaXN0ZXJTdWNjZXNzKHN0YXRlKSB7CiAgICAgIHN0YXRlLnN0YXR1cy5sb2dnZWRJbiA9IGZhbHNlOwogICAgfSwKICAgIHJlZ2lzdGVyRmFpbHVyZTogZnVuY3Rpb24gcmVnaXN0ZXJGYWlsdXJlKHN0YXRlKSB7CiAgICAgIHN0YXRlLnN0YXR1cy5sb2dnZWRJbiA9IGZhbHNlOwogICAgfQogIH0KfTs="},{"version":3,"sources":["/home/sena/Desktop/front-carService/src/store/auth.module.js"],"names":["AuthService","use","user","localStorage","getItem","JSON","parse","initialState","status","loggedIn","auth","namespaced","state","actions","login","commit","console","log","then","response","accessToken","Promise","resolve","error","reject","logout","clear","register","data","mutations","loginSuccess","loginFailure","registerSuccess","registerFailure"],"mappings":"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","sourcesContent":["import AuthService from '../services/auth.service';\nimport {use} from \"vee-validate/dist/vee-validate.minimal.esm\";\n\nlet user=null\nif(localStorage!=null&&localStorage.getItem('user')!=null){\nuser = JSON.parse(localStorage.getItem('user'));\n}\nelse {\n   user  = null;\n}\n\nconst initialState = user\n  ? { status: { loggedIn: true }, user }\n  : { status: { loggedIn: false }, user: null };\n\nexport const auth = {\n  namespaced: true,\n  state: initialState,\n  actions: {\n    login({ commit }, user) {\n      console.log(user)\n      return AuthService.login(user).then(\n        response => {\n          //commit('loginSuccess', user);\n          console.log(response.accessToken)\n          //localStorage.setItem(\"user\",JSON.beautify(user));\n          return Promise.resolve(user);\n        },\n        error => {\n          commit('loginFailure');\n          return Promise.reject(error);\n        }\n      );\n    },\n    logout({ commit }) {\n      AuthService.logout();\n      commit('logout');\n      localStorage.clear();\n      return true;\n\n      \n    },\n    register({ commit }, user) {\n      return AuthService.register(user).then(\n        response => {\n          commit('registerSuccess');\n          return Promise.resolve(response.data);\n        },\n        error => {\n          commit('registerFailure');\n          return Promise.reject(error);\n        }\n      );\n    }\n  },\n  mutations: {\n    loginSuccess(state, user) {\n      state.status.loggedIn = true;\n      state.user = user;\n    },\n    loginFailure(state) {\n      state.status.loggedIn = false;\n      state.user = null;\n    },\n    logout(state) {\n      state.status.loggedIn = false;\n      state.user = null;\n    },\n    registerSuccess(state) {\n      state.status.loggedIn = false;\n    },\n    registerFailure(state) {\n      state.status.loggedIn = false;\n    }\n  }\n};\n"]}]}
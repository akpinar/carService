{"remainingRequest":"/home/sena/Desktop/front-carService/node_modules/babel-loader/lib/index.js!/home/sena/Desktop/front-carService/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/sena/Desktop/front-carService/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/sena/Desktop/front-carService/src/views/pages/Login.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/sena/Desktop/front-carService/src/views/pages/Login.vue","mtime":1616347706732},{"path":"/home/sena/Desktop/front-carService/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/sena/Desktop/front-carService/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/home/sena/Desktop/front-carService/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/sena/Desktop/front-carService/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IFVzZXIgZnJvbSAnLi4vLi4vbW9kZWxzL3VzZXInOwppbXBvcnQgU2VydmljZVNlcnZpY2UgZnJvbSAiQC9zZXJ2aWNlcy9zZXJ2aWNlLnNlcnZpY2UiOwppbXBvcnQgQXV0aFNlcnZpY2UgZnJvbSAiQC9zZXJ2aWNlcy9hdXRoLnNlcnZpY2UiOwppbXBvcnQgVXNlclNlcnZpY2UgZnJvbSAiLi4vLi4vc2VydmljZXMvVXNlclNlcnZpY2UiOwppbXBvcnQgeyBtYXBTdGF0ZSB9IGZyb20gJ3Z1ZXgnOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ0xvZ2luJywKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgdXNlcjogbmV3IFVzZXIoIiIsICIiLCAiIiwgIiIsICIiLCAiIiksCiAgICAgIGxvYWRpbmc6IGZhbHNlLAogICAgICBzZXR0aW5nczogbnVsbCwKICAgICAgbWVzc2FnZTogJycsCiAgICAgIGlzRXJyb3I6IGZhbHNlCiAgICB9OwogIH0sCiAgY29tcHV0ZWQ6IHsKICAgIGxvZ2dlZEluOiBmdW5jdGlvbiBsb2dnZWRJbigpIHsKICAgICAgaWYgKHRoaXMuJHN0b3JlLnN0YXRlLmF1dGggIT0gbnVsbCAmJiB0aGlzLiRzdG9yZS5zdGF0ZS5hdXRoLnN0YXR1cyAhPSBudWxsKSByZXR1cm4gdGhpcy4kc3RvcmUuc3RhdGUuYXV0aC5zdGF0dXMubG9nZ2VkSW47ZWxzZSByZXR1cm4gbnVsbDsKICAgIH0KICB9LAogIG1vdW50ZWQ6IGZ1bmN0aW9uIG1vdW50ZWQoKSB7CiAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgIHRoaXMuJHN0b3JlLmRpc3BhdGNoKCdnZXRTZXR0aW5ncycpLnRoZW4oZnVuY3Rpb24gKHJlc3VsdCkgewogICAgICBfdGhpcy5zZXR0aW5ncyA9IHJlc3VsdDsKICAgIH0pOwogIH0sCiAgY3JlYXRlZDogZnVuY3Rpb24gY3JlYXRlZCgpIHsKICAgIC8qIGlmICh0aGlzLmxvZ2dlZEluKSB7CiAgICAgICB0aGlzLiRyb3V0ZXIucHVzaCgnL2Rhc2hib2FyZCcpOwogICAgIH0qLwogIH0sCiAgbWV0aG9kczogewogICAgZXJyb3JIaWRlOiBmdW5jdGlvbiBlcnJvckhpZGUoKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgICAgcmV0dXJuIF90aGlzMi5pc0Vycm9yID0gZmFsc2U7CiAgICAgIH0sIDUwMDApOwogICAgfSwKICAgIGhhbmRsZUxvZ2luOiBmdW5jdGlvbiBoYW5kbGVMb2dpbigpIHsKICAgICAgdmFyIF90aGlzMyA9IHRoaXM7CgogICAgICAvL2NvbnNvbGUubG9nKHRoaXMuJHN0b3JlKTsKICAgICAgdmFyIHVzZXJfZ3JvdXAgPSBVc2VyU2VydmljZS5nZXRVc2VyR3JvdXAoKTsKICAgICAgdmFyIGdyb3VwcyA9IHsKICAgICAgICBhZG1pbjogIkFkbWluIiwKICAgICAgICBzZXJ2aWNlbWFuOiAiVGFtaXJjaSIsCiAgICAgICAgY3VzdG9tZXI6ICJDdXN0b21lciIsCiAgICAgICAgYWNjb3VudGFudDogIk11aGFzZWJlIgogICAgICB9OwogICAgICB2YXIgZGFzaGJvYXJkX2xpbmsgPSAiIjsKCiAgICAgIHN3aXRjaCAodXNlcl9ncm91cCkgewogICAgICAgIGNhc2UgZ3JvdXBzLmFkbWluOgogICAgICAgICAgZGFzaGJvYXJkX2xpbmsgPSAiYWRtaW4tZGFzaGJvYXJkIjsKICAgICAgICAgIGJyZWFrOwoKICAgICAgICBjYXNlIGdyb3Vwcy5jdXN0b21lcjoKICAgICAgICAgIGRhc2hib2FyZF9saW5rID0gImN1c3RvbWVyLWRhc2hib2FyZCI7CiAgICAgICAgICBicmVhazsKCiAgICAgICAgY2FzZSBncm91cHMuc2VydmljZW1hbjoKICAgICAgICAgIGRhc2hib2FyZF9saW5rID0gInNlcnZpY2VtYW4tZGFzaGJvYXJkIjsKICAgICAgICAgIGJyZWFrOwoKICAgICAgICBjYXNlIGdyb3Vwcy5hY2NvdW50YW50OgogICAgICAgICAgZGFzaGJvYXJkX2xpbmsgPSAiYWNjb3VudGFudC1kYXNoYm9hcmQiOwogICAgICAgICAgYnJlYWs7CgogICAgICAgIGRlZmF1bHQ6CiAgICAgICAgICBicmVhazsKICAgICAgfQoKICAgICAgdGhpcy5sb2FkaW5nID0gdHJ1ZTsKCiAgICAgIGlmICh0aGlzLnVzZXIudXNlcm5hbWUgJiYgdGhpcy51c2VyLnBhc3N3b3JkKSB7CiAgICAgICAgdGhpcy4kc3RvcmUuZGlzcGF0Y2goJ2F1dGgvbG9naW4nLCB0aGlzLnVzZXIpLnRoZW4oZnVuY3Rpb24gKCkgewogICAgICAgICAgX3RoaXMzLiRyb3V0ZXIucHVzaCgiLyIuY29uY2F0KGRhc2hib2FyZF9saW5rKSk7CiAgICAgICAgfSwgZnVuY3Rpb24gKGVycm9yKSB7CiAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvcik7CiAgICAgICAgICBfdGhpczMubG9hZGluZyA9IGZhbHNlOwogICAgICAgICAgX3RoaXMzLm1lc3NhZ2UgPSBlcnJvci5yZXNwb25zZSAmJiBlcnJvci5yZXNwb25zZS5kYXRhIHx8IGVycm9yLm1lc3NhZ2UgfHwgZXJyb3IudG9TdHJpbmcoKTsKICAgICAgICAgIF90aGlzMy5tZXNzYWdlID0gImRqc2hkanNoZHMiOwogICAgICAgICAgX3RoaXMzLmlzRXJyb3IgPSBmYWxzZTsKICAgICAgICAgIF90aGlzMy5pc0Vycm9yID0gdHJ1ZTsKCiAgICAgICAgICBfdGhpczMuZXJyb3JIaWRlKCk7CiAgICAgICAgfSk7CiAgICAgIH0KICAgIH0sCiAgICByZWRpcmVjdFVzZXI6IGZ1bmN0aW9uIHJlZGlyZWN0VXNlcigpIHsKICAgICAgdGhpcy4kcm91dGVyLnB1c2goIi9wYWdlcy9mb3Jnb3QtcGFzc3dvcmQiKTsKICAgIH0KICB9Cn07"},{"version":3,"sources":["Login.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <div class=\"c-app flex-row align-items-center\">\n    <CContainer>\n      <CRow class=\"justify-content-center\">\n        <CCol md=\"8\">\n          <CCardGroup>\n            <CCard class=\"p-4\">\n              <CCardBody>\n                <CAlert color=\"danger\" :show=\"isError\">\n                   Bu bilgilerle aktif bir hesap bulunamadı\n                </CAlert>\n                <CForm name=\"login-form\" >\n                  <h1>Giriş Yap</h1>\n                  <CInput\n                    placeholder=\"E-mail\"\n                    autocomplete=\"username email\"\n                    v-model=\"user.username\"\n                    required\n                  >\n                    <template #prepend-content><CIcon name=\"cil-user\"/></template>\n                  </CInput>\n                  <CInput\n                    placeholder=\"Şifre\"\n                    type=\"password\"\n                    autocomplete=\"curent-password\"\n                    v-model=\"user.password\"\n                  >\n                    <template #prepend-content><CIcon name=\"cil-lock-locked\"/></template>\n                  </CInput>\n                  <CRow>\n                    <CCol col=\"6\" class=\"text-left\">\n                      <CButton @click=\"handleLogin\" color=\"primary\" class=\"px-4\">Giriş</CButton>\n                    </CCol>\n                    <CCol col=\"6\" class=\"text-right\">\n                      <CButton @click=\"redirectUser\" color=\"link\" class=\"px-0\">Şifremi Unuttum</CButton>\n                    </CCol>\n                  </CRow>\n                </CForm>\n              </CCardBody>\n            </CCard>\n            <CCard\n              color=\"primary\"\n              text-color=\"white\"\n              class=\"text-center py-5 d-md-down-none\"\n              body-wrapper\n            >\n              <CCardBody>\n                <img class=\"menu-logo\" v-bind:src=\"settings.logo\">\n      \n                  <div class=\"info\">\n                    <span class=\"mr-1\">Powered by</span>\n                    <a class=\"text-white font-weight-bold\" href=\"https://www.oxit.com.tr\" target=\"_blank\">OXIT</a>\n                  </div>\n                </CCardBody>\n            </CCard>\n          </CCardGroup>\n        </CCol>              \n      </CRow>\n    </CContainer>\n  </div>\n</template>\n\n<script>\n\nimport User from '../../models/user';\nimport ServiceService from \"@/services/service.service\";\nimport AuthService from \"@/services/auth.service\";\nimport UserService from \"../../services/UserService\"\nimport { mapState } from 'vuex'\nexport default {\n  name: 'Login',\n  data(){\n    return {\n      user: new User(\"\",\"\",\"\",\"\",\"\",\"\"),\n      loading: false,\n      settings:null,\n      message:'',\n      isError:false,\n    };\n  },\n  computed:{\n    loggedIn(){\n      if(this.$store.state.auth!=null&&this.$store.state.auth.status!=null)\n        return this.$store.state.auth.status.loggedIn;\n      else\n        return null\n    },\n  },\n  mounted(){\n      this.$store.dispatch('getSettings').then(result=>{\n        this.settings = result\n    })\n  },\n  created() {\n   /* if (this.loggedIn) {\n      this.$router.push('/dashboard');\n    }*/\n  },\n  methods: {\n    errorHide() {\n      setTimeout(() => (this.isError = false), 5000);\n    },\n    handleLogin() {\n      //console.log(this.$store);\n      const user_group = UserService.getUserGroup()\n      const groups = {\n          admin:\"Admin\",\n          serviceman:\"Tamirci\",\n          customer:\"Customer\",\n          accountant:\"Muhasebe\"\n      }\n\n      var dashboard_link = \"\"\n      switch (user_group) {\n          case groups.admin:\n              dashboard_link = \"admin-dashboard\"\n              break;\n          case groups.customer:\n              dashboard_link = \"customer-dashboard\"\n              break;\n          case groups.serviceman:\n              dashboard_link = \"serviceman-dashboard\"\n              break;\n          case groups.accountant:\n              dashboard_link = \"accountant-dashboard\"\n              break;\n          \n          default:\n              break;\n      }\n\n      this.loading = true;\n\n        if (this.user.username && this.user.password) {\n          this.$store.dispatch('auth/login', this.user).then(\n            () => {\n              this.$router.push(`/${dashboard_link}`);\n            },\n            error => {\n              console.log(error)\n              this.loading = false;\n              this.message =\n                (error.response && error.response.data) ||\n                error.message ||\n                error.toString();\n              this.message=\"djshdjshds\"\n              this.isError = false;\n              this.isError = true;\n              this.errorHide();\n              \n            }\n          );\n        }\n     \n    },\n    redirectUser(){\n      this.$router.push(\"/pages/forgot-password\")\n    }\n  }\n};\n\n</script>\n<style scoped>\n.menu-logo{\n  width: 270px;\n}\n.info{\n  margin-left: auto;\n  padding-top: 30px;\n}\n</style>"],"sourceRoot":"src/views/pages"}]}
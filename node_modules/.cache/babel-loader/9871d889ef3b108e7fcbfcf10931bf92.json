{"remainingRequest":"/home/sena/Desktop/front-carService/node_modules/babel-loader/lib/index.js!/home/sena/Desktop/front-carService/src/store/auth.module.js","dependencies":[{"path":"/home/sena/Desktop/front-carService/src/store/auth.module.js","mtime":1617191268157},{"path":"/home/sena/Desktop/front-carService/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/sena/Desktop/front-carService/node_modules/babel-loader/lib/index.js","mtime":315532800000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IEF1dGhTZXJ2aWNlIGZyb20gJy4uL3NlcnZpY2VzL2F1dGguc2VydmljZSc7CmltcG9ydCB7IHVzZSB9IGZyb20gInZlZS12YWxpZGF0ZS9kaXN0L3ZlZS12YWxpZGF0ZS5taW5pbWFsLmVzbSI7CnZhciB1c2VyID0gbnVsbDsKCmlmIChsb2NhbFN0b3JhZ2UgIT0gbnVsbCAmJiBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgndXNlcicpICE9IG51bGwpIHsKICB1c2VyID0gSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgndXNlcicpKTsKfSBlbHNlIHsKICB1c2VyID0gbnVsbDsKfQoKdmFyIGluaXRpYWxTdGF0ZSA9IHVzZXIgPyB7CiAgc3RhdHVzOiB7CiAgICBsb2dnZWRJbjogdHJ1ZQogIH0sCiAgdXNlcjogdXNlcgp9IDogewogIHN0YXR1czogewogICAgbG9nZ2VkSW46IGZhbHNlCiAgfSwKICB1c2VyOiBudWxsCn07CmV4cG9ydCB2YXIgYXV0aCA9IHsKICBuYW1lc3BhY2VkOiB0cnVlLAogIHN0YXRlOiBpbml0aWFsU3RhdGUsCiAgYWN0aW9uczogewogICAgbG9naW46IGZ1bmN0aW9uIGxvZ2luKF9yZWYsIHVzZXIpIHsKICAgICAgdmFyIGNvbW1pdCA9IF9yZWYuY29tbWl0OwogICAgICByZXR1cm4gQXV0aFNlcnZpY2UubG9naW4odXNlcikudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICAvL2NvbW1pdCgnbG9naW5TdWNjZXNzJywgdXNlcik7CiAgICAgICAgY29uc29sZS5sb2cocmVzcG9uc2UuYWNjZXNzVG9rZW4pOyAvL2xvY2FsU3RvcmFnZS5zZXRJdGVtKCJ1c2VyIixKU09OLmJlYXV0aWZ5KHVzZXIpKTsKCiAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSh1c2VyKTsKICAgICAgfSwgZnVuY3Rpb24gKGVycm9yKSB7CiAgICAgICAgY29tbWl0KCdsb2dpbkZhaWx1cmUnKTsKICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoZXJyb3IpOwogICAgICB9KTsKICAgIH0sCiAgICBsb2dvdXQ6IGZ1bmN0aW9uIGxvZ291dChfcmVmMikgewogICAgICB2YXIgY29tbWl0ID0gX3JlZjIuY29tbWl0OwogICAgICBBdXRoU2VydmljZS5sb2dvdXQoKTsKICAgICAgY29tbWl0KCdsb2dvdXQnKTsKICAgICAgbG9jYWxTdG9yYWdlLmNsZWFyKCk7CiAgICAgIHJldHVybiB0cnVlOwogICAgfSwKICAgIHJlZ2lzdGVyOiBmdW5jdGlvbiByZWdpc3RlcihfcmVmMywgdXNlcikgewogICAgICB2YXIgY29tbWl0ID0gX3JlZjMuY29tbWl0OwogICAgICByZXR1cm4gQXV0aFNlcnZpY2UucmVnaXN0ZXIodXNlcikudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICBjb21taXQoJ3JlZ2lzdGVyU3VjY2VzcycpOwogICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUocmVzcG9uc2UuZGF0YSk7CiAgICAgIH0sIGZ1bmN0aW9uIChlcnJvcikgewogICAgICAgIGNvbW1pdCgncmVnaXN0ZXJGYWlsdXJlJyk7CiAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KGVycm9yKTsKICAgICAgfSk7CiAgICB9CiAgfSwKICBtdXRhdGlvbnM6IHsKICAgIGxvZ2luU3VjY2VzczogZnVuY3Rpb24gbG9naW5TdWNjZXNzKHN0YXRlLCB1c2VyKSB7CiAgICAgIHN0YXRlLnN0YXR1cy5sb2dnZWRJbiA9IHRydWU7CiAgICAgIHN0YXRlLnVzZXIgPSB1c2VyOwogICAgfSwKICAgIGxvZ2luRmFpbHVyZTogZnVuY3Rpb24gbG9naW5GYWlsdXJlKHN0YXRlKSB7CiAgICAgIHN0YXRlLnN0YXR1cy5sb2dnZWRJbiA9IGZhbHNlOwogICAgICBzdGF0ZS51c2VyID0gbnVsbDsKICAgIH0sCiAgICBsb2dvdXQ6IGZ1bmN0aW9uIGxvZ291dChzdGF0ZSkgewogICAgICBzdGF0ZS5zdGF0dXMubG9nZ2VkSW4gPSBmYWxzZTsKICAgICAgc3RhdGUudXNlciA9IG51bGw7CiAgICB9LAogICAgcmVnaXN0ZXJTdWNjZXNzOiBmdW5jdGlvbiByZWdpc3RlclN1Y2Nlc3Moc3RhdGUpIHsKICAgICAgc3RhdGUuc3RhdHVzLmxvZ2dlZEluID0gZmFsc2U7CiAgICB9LAogICAgcmVnaXN0ZXJGYWlsdXJlOiBmdW5jdGlvbiByZWdpc3RlckZhaWx1cmUoc3RhdGUpIHsKICAgICAgc3RhdGUuc3RhdHVzLmxvZ2dlZEluID0gZmFsc2U7CiAgICB9CiAgfQp9Ow=="},{"version":3,"sources":["/home/sena/Desktop/front-carService/src/store/auth.module.js"],"names":["AuthService","use","user","localStorage","getItem","JSON","parse","initialState","status","loggedIn","auth","namespaced","state","actions","login","commit","then","response","console","log","accessToken","Promise","resolve","error","reject","logout","clear","register","data","mutations","loginSuccess","loginFailure","registerSuccess","registerFailure"],"mappings":"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","sourcesContent":["import AuthService from '../services/auth.service';\nimport {use} from \"vee-validate/dist/vee-validate.minimal.esm\";\n\nlet user=null\nif(localStorage!=null&&localStorage.getItem('user')!=null){\nuser = JSON.parse(localStorage.getItem('user'));\n}\nelse {\n   user  = null;\n}\n\nconst initialState = user\n  ? { status: { loggedIn: true }, user }\n  : { status: { loggedIn: false }, user: null };\n\nexport const auth = {\n  namespaced: true,\n  state: initialState,\n  actions: {\n    login({ commit }, user) {\n      return AuthService.login(user).then(\n        response => {\n          //commit('loginSuccess', user);\n          console.log(response.accessToken)\n          //localStorage.setItem(\"user\",JSON.beautify(user));\n          return Promise.resolve(user);\n        },\n        error => {\n          commit('loginFailure');\n          return Promise.reject(error);\n        }\n      );\n    },\n    logout({ commit }) {\n      AuthService.logout();\n      commit('logout');\n      localStorage.clear();\n      return true;\n\n      \n    },\n    register({ commit }, user) {\n      return AuthService.register(user).then(\n        response => {\n          commit('registerSuccess');\n          return Promise.resolve(response.data);\n        },\n        error => {\n          commit('registerFailure');\n          return Promise.reject(error);\n        }\n      );\n    }\n  },\n  mutations: {\n    loginSuccess(state, user) {\n      state.status.loggedIn = true;\n      state.user = user;\n    },\n    loginFailure(state) {\n      state.status.loggedIn = false;\n      state.user = null;\n    },\n    logout(state) {\n      state.status.loggedIn = false;\n      state.user = null;\n    },\n    registerSuccess(state) {\n      state.status.loggedIn = false;\n    },\n    registerFailure(state) {\n      state.status.loggedIn = false;\n    }\n  }\n};\n"]}]}